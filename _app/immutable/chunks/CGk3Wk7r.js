import{b as S,E as m,h,H as y,z as N,A as D,B as k,C as F,D as L,a as R,F as x,U as C,G as q,I as B,J as H,i as M,K as O,L as U,m as Y,M as z,S as G}from"./DJKqcUWO.js";function K(e,f,c=!1){h&&H();var t=e,s=null,a=null,r=C,g=c?m:0,_=!1;const I=(l,i=!0)=>{_=!0,v(i,l)};var n=null,u=null;function o(){n!==null&&(n.lastChild.remove(),t.before(n),n=null),u&&(r?s=u:a=u);var l=r?s:a,i=r?a:s;l!==null&&q(l),i!==null&&B(i,()=>{r?a=null:s=null}),u=null}const v=(l,i)=>{if(r===(r=l))return;let p=!1;if(h){const d=t.data===y;!!r===d&&(t=N(),D(t),k(!1),p=!0)}var T=F(),E=t;if(T&&(n=document.createDocumentFragment(),n.append(E=L())),(r?!s:!a)&&(u=i&&R(()=>i(E))),T){var b=x;const d=r?a:s;d!==null&&b.skipped_effects.add(d),b.add_callback(o)}else o();p&&k(!0)};S(()=>{_=!1,f(I),_||v(null,null)},g),h&&(t=M)}function A(e,f){return e===f||(e==null?void 0:e[G])===f}function P(e={},f,c,t){return O(()=>{var s,a;return U(()=>{s=a,a=[],Y(()=>{e!==c(...a)&&(f(e,...a),s&&A(c(...s),e)&&f(null,...s))})}),()=>{z(()=>{a&&A(c(...a),e)&&f(null,...a)})}}),e}export{P as b,K as i};
