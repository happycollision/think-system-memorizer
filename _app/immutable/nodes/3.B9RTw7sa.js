import{f as n,a as l}from"../chunks/CQzxV6Y8.js";import{m as k,o as L,$ as E,t as u,v as s,w as o,x as j,y as z,z as h}from"../chunks/gPhkiCaU.js";import{s as S}from"../chunks/B4vdtfck.js";import{i as D}from"../chunks/BzSpMuSx.js";import{e as F,s as T}from"../chunks/Bc1UhmEP.js";import{d as $,h as A}from"../chunks/B_WnfeV7.js";import{i as M}from"../chunks/DqITHQ6G.js";import{b as N}from"../chunks/BTx_oiTW.js";const O=async({fetch:a})=>({librettos:await(await a("/api/librettos")).json()}),V=Object.freeze(Object.defineProperty({__proto__:null,load:O},Symbol.toStringTag,{value:"Module"}));var C=n('<div class="py-12 text-center"><p class="mb-4 text-lg text-gray-500">No librettos yet</p> <a href="/librettos/new" class="rounded-md bg-blue-600 px-6 py-2 text-white transition-colors hover:bg-blue-700">Submit Your First Libretto</a></div>'),P=(a,r,i)=>{a.preventDefault(),r(h(i).id)},Y=n('<div class="relative isolate rounded-lg border border-gray-200 bg-white p-6 shadow-sm transition-shadow hover:shadow-md"><h3 class="mb-2 text-xl font-semibold text-gray-800"><a> <span class="absolute inset-0"></span></a></h3> <div class="flex gap-2"><button class="z-10 rounded bg-red-600 px-3 py-2 text-sm text-white transition-colors hover:bg-red-700">Delete</button></div></div>'),q=n('<div class="grid gap-6 md:grid-cols-2 lg:grid-cols-3"></div>'),B=n('<div class="mx-auto max-w-6xl p-8"><div class="mb-8 flex items-center justify-between"><h1 class="text-3xl font-bold text-gray-800">Libretto Collection</h1> <a href="/librettos/new" class="rounded-md bg-blue-600 px-6 py-2 text-white transition-colors hover:bg-blue-700">New Libretto</a></div> <!></div>');function W(a,r){k(r,!0);async function i(t){if(confirm("Are you sure you want to delete this libretto?"))try{if(!(await fetch(`/api/librettos/${t}`,{method:"DELETE"})).ok)throw new Error("Failed to delete libretto");M()}catch(e){console.error("Error deleting libretto:",e),alert("Failed to delete libretto")}}var d=B();A(t=>{E.title="Librettos - Think System Memorizer"});var g=u(s(d),2);{var x=t=>{var e=C();l(t,e)},_=t=>{var e=q();F(e,21,()=>r.data.librettos,c=>c.title,(c,b)=>{var v=Y(),m=s(v),p=s(m),w=s(p);j(),o(p),o(m);var f=u(m,2),y=s(f);y.__click=[P,i,b],o(f),o(v),z(()=>{T(p,"href",`${N??""}/librettos/${h(b).id??""}`),S(w,`${h(b).title??""} `)}),l(c,v)}),o(e),l(t,e)};D(g,t=>{r.data.librettos.length===0?t(x):t(_,!1)})}o(d),l(a,d),L()}$(["click"]);export{W as component,V as universal};
