import{f as x,a as y}from"../chunks/CBRNjYjx.js";import{i as h}from"../chunks/CGWnGH77.js";import{P as v,Q as g,$ as w,R as i,T as n,V as l}from"../chunks/DTBPtxAS.js";import{h as T,e as S}from"../chunks/dct89_6p.js";import{s as $}from"../chunks/-JXu8JFi.js";import{g as N}from"../chunks/11e4ofEQ.js";import{b as d}from"../chunks/CfCTUKyv.js";var L=x('<div class="mx-auto max-w-4xl p-8"><h1 class="mb-8 text-center text-3xl font-bold text-gray-800">Submit a New Libretto</h1> <div class="mb-6 text-center text-red-600">WARNING: This is not a real feature yet. It will not save your script.</div> <form class="flex flex-col gap-6"><div class="flex flex-col gap-2"><label for="title" class="text-sm font-semibold text-gray-700">Title *</label> <input id="title" name="title" type="text" required class="rounded-md border-2 border-gray-300 px-3 py-2 text-base transition-colors focus:border-blue-500 focus:outline-none"/></div> <div class="flex flex-col gap-2"><label for="content" class="text-sm font-semibold text-gray-700">Libretto Content *</label> <textarea id="content" name="content" placeholder="Paste the text here..." rows="10" required class="min-h-80 resize-y rounded-md border-2 border-gray-300 px-3 py-2 font-mono text-base transition-colors focus:border-blue-500 focus:outline-none"></textarea></div> <div class="mb-6 text-center text-red-600">WARNING: This is not a real feature yet. It will not save your script.</div> <div class="mt-4 flex justify-center gap-4"><button type="submit" class="cursor-pointer rounded-md border-none bg-blue-600 px-8 py-3 text-base text-white transition-colors hover:bg-blue-700 disabled:cursor-not-allowed disabled:opacity-60">Submit Libretto</button> <a class="cursor-pointer rounded-md border-none bg-gray-600 px-8 py-3 text-base text-white transition-colors hover:bg-gray-700">Cancel</a></div></form></div>');function P(c,m){v(m,!1);const u=async t=>{if(t.preventDefault(),!t.target)return;const{title:a,content:s}=Object.fromEntries(new FormData(t.currentTarget).entries());if(!a||!s){alert("Title and content are required");return}try{const e=await fetch(`${d}/api/librettos/mutate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:a,content:s})});if(!e.ok){const f=await e.json();alert(f.error||"Failed to submit libretto");return}console.log("Libretto submitted:",{title:a,content:s}),N(`${d}/librettos`)}catch(e){console.error("Error submitting libretto:",e),alert("Failed to submit libretto")}};h();var r=L();T(t=>{w.title="Submit Libretto - Think System Memorizer"});var o=i(n(r),4),b=i(n(o),6),p=i(n(b),2);$(p,"href",`${d??""}/librettos`),l(b),l(o),l(r),S("submit",o,u),y(c,r),g()}export{P as component};
