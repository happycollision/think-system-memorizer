import{b as l}from"../chunks/CyeQdYPu.js";import{f as c,a as n}from"../chunks/DjTH6kLy.js";import{P as E,Q as S,$ as T,T as a,R as b,V as r,a2 as z,a3 as D,j as x}from"../chunks/Bofq6oB1.js";import{s as F}from"../chunks/C0JAvHCf.js";import{i as A}from"../chunks/X4fkFxH9.js";import{e as M}from"../chunks/BsITVCOf.js";import{d as N,h as O}from"../chunks/DKE3wkiS.js";import{s as u}from"../chunks/HOyAHefM.js";import{i as P}from"../chunks/B4FvIM2L.js";const C=async({fetch:s})=>({librettos:await(await s(`${l}/api/librettos.json`)).json()}),Z=Object.freeze(Object.defineProperty({__proto__:null,load:C},Symbol.toStringTag,{value:"Module"}));var Q=c('<div class="py-12 text-center"><p class="mb-4 text-lg text-gray-500">No librettos yet</p> <a class="rounded-md bg-blue-600 px-6 py-2 text-white transition-colors hover:bg-blue-700">Submit Your First Libretto</a></div>'),R=(s,o,d)=>{s.preventDefault(),o(x(d).id)},V=c('<div class="relative isolate rounded-lg border border-gray-200 bg-white p-6 shadow-sm transition-shadow hover:shadow-md dark:border-gray-600 dark:bg-gray-800"><h3 class="mb-2 text-xl font-semibold text-gray-800 dark:text-gray-200"><a> <span class="absolute inset-0"></span></a></h3> <div class="flex gap-2"><button class="z-10 rounded bg-red-600 px-3 py-2 text-sm text-white transition-colors hover:bg-red-700">Delete</button></div></div>'),Y=c('<div class="grid gap-6 md:grid-cols-2 lg:grid-cols-3"></div>'),q=c('<div class="mx-auto max-w-6xl p-8"><div class="mb-8 flex items-center justify-between"><h1 class="text-3xl font-bold text-gray-800 dark:text-gray-200">Libretto Collection</h1> <a class="rounded-md bg-blue-600 px-6 py-2 text-white transition-colors hover:bg-blue-700">New Libretto</a></div> <!></div>');function tt(s,o){E(o,!0);async function d(e){if(confirm("Are you sure you want to delete this libretto?"))try{if(!(await fetch(`${l}/api/librettos/${e}/mutate`,{method:"DELETE"})).ok)throw new Error("Failed to delete libretto");P()}catch(t){console.error("Error deleting libretto:",t),alert("Failed to delete libretto")}}var v=q();O(e=>{T.title="Librettos - Think System Memorizer"});var m=a(v),y=b(a(m),2);u(y,"href",`${l??""}/librettos/new`),r(m);var w=b(m,2);{var k=e=>{var t=Q(),i=b(a(t),2);u(i,"href",`${l??""}/librettos/new`),r(t),n(e,t)},$=e=>{var t=Y();M(t,21,()=>o.data.librettos,i=>i.title,(i,p)=>{var f=V(),g=a(f),h=a(g),j=a(h);z(),r(h),r(g);var _=b(g,2),L=a(_);L.__click=[R,d,p],r(_),r(f),D(()=>{u(h,"href",`${l??""}/librettos/${x(p).id??""}`),F(j,`${x(p).title??""} `)}),n(i,f)}),r(t),n(e,t)};A(w,e=>{o.data.librettos.length===0?e(k):e($,!1)})}r(v),n(s,v),S()}N(["click"]);export{tt as component,Z as universal};
